{% extends 'base.html' %}
{% load i18n %}

{% block content %}
<section class="min-h-screen flex items-center justify-center bg-pink-100 px-4 py-8 sm:py-12">
  <div class="max-w-3xl w-full bg-white rounded-3xl border border-yellow-400/40 shadow-lg p-4 sm:p-6 md:p-10 animate-fadeInUp">
    
    <!-- Title -->
    <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-pink-700 mb-4 sm:mb-6 text-center">
      {% trans "Envoyer les détails de l'événement" %}
    </h2>
    <p class="text-gray-800 text-sm sm:text-base md:text-lg mb-4 sm:mb-6 text-center">
      {% trans "Voici les détails qui seront envoyés à l'agence :" %}
    </p>
    
    <!-- Preview Message -->
    <div class="bg-yellow-400/20 border border-yellow-400/30 text-gray-800 p-4 sm:p-6 rounded-2xl mb-6 sm:mb-8 whitespace-pre-wrap">
      {{ message_preview }}
    </div>
    
    <!-- Choice -->
    <p class="text-gray-800 text-sm sm:text-base md:text-lg mb-4 sm:mb-6 text-center">
      {% trans "Choisissez comment envoyer :" %}
    </p>
    <form method="post" class="space-y-4 sm:space-y-6">
      {% csrf_token %}
      <div>
        <label for="choice" class="block text-sm sm:text-base md:text-lg font-semibold text-pink-700 mb-2">
          {% trans "Mode d'envoi" %}
        </label>
        <select name="choice" id="choice" 
                class="w-full rounded-lg border border-pink-700/40 bg-white px-3 sm:px-4 py-2 sm:py-3 text-gray-800 focus:ring-2 focus:ring-yellow-400 transition">
          <option value="whatsapp">{% trans "WhatsApp" %}</option>
          <option value="email">{% trans "Email" %}</option>
        </select>
      </div>
      
      <!-- Buttons -->
      <button type="submit" 
              class="w-full px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-bold text-white bg-gradient-to-r from-pink-700 to-yellow-400 shadow-md transform transition hover:scale-105 hover:shadow-lg">
        {% trans "Envoyer" %}
      </button>
    </form>
    
    <!-- Back Button -->
    <a href="{% url 'event_detail' event.id %}" 
       class="block w-full mt-4 sm:mt-6 px-4 sm:px-6 py-2 sm:py-3 rounded-lg text-center font-semibold bg-yellow-400 text-pink-700 hover:bg-pink-200 transition">
      {% trans "Retour" %}
    </a>
  </div>
</section>
{% endblock %}

<style>
  @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px) } to { opacity: 1; transform: translateY(0) } }
  .animate-fadeInUp { animation: fadeInUp 0.6s ease-out both }

  @media (max-width: 640px) {
    .max-w-3xl { max-width: 100%; padding: 0 1rem; }
    h2 { font-size: 1.5rem; }
    p { font-size: 0.875rem; }
    .p-4 { padding: 1rem; }
    .px-4 { padding-left: 1rem; padding-right: 1rem; }
    .py-2 { padding-top: 0.5rem; padding-bottom: 0.5rem; }
  }
</style>