{% extends 'base.html' %}
{% load static %}
{% load i18n %}

{% block title %}{% trans "Home" %} - Glow Gracious Events{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="relative w-full h-[80vh] overflow-hidden">
    <!-- Carousel Images -->
    <div id="hero-carousel" class="absolute inset-0 w-full h-full">
        <!-- Slide 1: Zoom -->
        <div class="absolute inset-0 bg-cover bg-center opacity-100 slide1" data-index="0">
            <div class="absolute inset-0 bg-black/40 flex flex-col items-center justify-center text-center px-4">
                <h1 class="text-5xl md:text-7xl font-bold text-pink-700 animate-fadeIn">Welcome to <span class="text-yellow-400">Glow Gracious</span></h1>
                <p class="text-xl md:text-2xl text-white mt-4 animate-fadeIn delay-200">Crafting your dream events with <span class="font-semibold">elegance</span> & <span class="font-semibold">style</span></p>
            </div>
        </div>

        <!-- Slide 2: Zoom -->
        <div class="absolute inset-0 bg-cover bg-center opacity-0 slide2" data-index="1">
            <div class="absolute inset-0 bg-black/40 flex flex-col items-center justify-center text-center px-4">
                <h1 class="text-5xl md:text-7xl font-bold text-yellow-400 animate-fadeIn">Stunning Decorations</h1>
                <p class="text-xl md:text-2xl text-white mt-4 animate-fadeIn delay-200">We make your events visually unforgettable</p>
            </div>
        </div>

        <!-- Slide 3: From Left -->
        <div class="absolute inset-0 bg-cover bg-center opacity-0 transform -translate-x-full slide3" data-index="2">
            <div class="absolute inset-0 bg-black/40 flex flex-col items-center justify-center text-center px-4">
                <h1 class="text-5xl md:text-7xl font-bold text-pink-500 animate-slideInLeft">Delicious Catering</h1>
                <p class="text-xl md:text-2xl text-white mt-4 animate-slideInLeft delay-200">Savor exquisite flavors crafted for your events</p>
            </div>
        </div>

        <!-- Slide 4: From Top -->
        <div class="absolute inset-0 bg-cover bg-center opacity-0 transform -translate-y-full slide4" data-index="3">
            <div class="absolute inset-0 bg-black/40 flex flex-col items-center justify-center text-center px-4">
                <h1 class="text-5xl md:text-7xl font-bold text-pink-700 animate-slideInDown">Capture Memories</h1>
                <p class="text-xl md:text-2xl text-white mt-4 animate-slideInDown delay-200">Our photography makes every moment unforgettable</p>
            </div>
        </div>

        <!-- Slide 5: From Right -->
        <div class="absolute inset-0 bg-cover bg-center opacity-0 transform translate-x-full slide5" data-index="4">
            <div class="absolute inset-0 bg-black/40 flex flex-col items-center justify-center text-center px-4">
                <h1 class="text-5xl md:text-7xl font-bold text-yellow-400 animate-slideInRight">Unforgettable Events</h1>
                <p class="text-xl md:text-2xl text-white mt-4 animate-slideInRight delay-200">Experience events designed to impress and inspire</p>
            </div>
        </div>
    </div>

    <!-- Buttons -->
    <div class="absolute bottom-10 w-full flex justify-center gap-4 z-20">
        <a href="{% url 'register' %}" class="bg-pink-700 text-white px-3 py-1.5 rounded-md text-base font-semibold hover:bg-pink-800 animate-bounce transition-all duration-300">
            {% trans "Get Started" %}
        </a>
        <a href="{% url 'gallery' %}" class="bg-pink-700 text-white px-3 py-1.5 rounded-md text-base font-semibold hover:bg-pink-800 animate-bounce transition-all duration-300">
            {% trans "Explore Gallery" %}
        </a>
    </div>
</section>

<!-- CSS for Background Images -->
<style>
    .slide1 {
        background-image: url('{% static "images/slide1.jpeg" %}');
    }
    .slide2 {
        background-image: url('{% static "images/slide2.jpeg" %}');
    }
    .slide3 {
        background-image: url('{% static "images/slide3.jpeg" %}');
    }
    .slide4 {
        background-image: url('{% static "images/slide4.jpeg" %}');
    }
    .slide5 {
        background-image: url('{% static "images/slider5.jpeg" %}');
    }
</style>

<!-- JS Carousel with Custom Animations -->
<script>
const slides = document.querySelectorAll('#hero-carousel > div');
let currentIndex = 0;

function showSlide(index){
    slides.forEach((slide, i) => {
        slide.style.opacity = '0';
        slide.style.transition = 'none';

        if(i === 2) slide.style.transform = 'translateX(-100%)';
        else if(i === 3) slide.style.transform = 'translateY(-100%)';
        else if(i === 4) slide.style.transform = 'translateX(100%)';
        else slide.style.transform = 'scale(1)';
    });

    const active = slides[index];

    // Force reflow pour que transition fonctionne
    void active.offsetWidth;

    active.style.transition = 'transform 1s ease, opacity 1s ease';

    switch(index){
        case 0: // Zoom
        case 1:
            active.style.transform = 'scale(1.05)';
            active.style.opacity = '1';
            break;
        case 2: // From Left
        case 3: // From Top
        case 4: // From Right
            active.style.transform = 'translateX(0) translateY(0)';
            active.style.opacity = '1';
            break;
    }
}

// Initial
showSlide(currentIndex);

// Change slide every 7 seconds
setInterval(() => {
    currentIndex = (currentIndex + 1) % slides.length;
    showSlide(currentIndex);
}, 7000);
</script>
<!--terminer-->

<!-- Video Section -->
<section class="py-20 bg-gradient-to-r from-pink-50 via-pink-100 to-pink-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h2 class="text-3xl md:text-4xl font-bold text-pink-700 mb-6 animate-fadeIn">
            {% trans "Watch Our Events in Action" %}
        </h2>
        <p class="text-gray-800 mb-12 max-w-3xl mx-auto animate-fadeIn delay-200">
            {% trans "Get a glimpse of the magic we create with these highlight reels of our most memorable events." %}
        </p>

        {% if featured_videos %}
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                {% for video in featured_videos %}
                    <div class="relative w-full overflow-hidden rounded-xl shadow-xl border border-pink-200 transform hover:scale-105 transition-transform duration-500">
                        <video autoplay muted loop class="w-full h-full object-cover rounded-xl">
                            <source src="{{ video.video_file.url }}" type="video/mp4">
                            {% trans "Your browser does not support the video tag." %}
                        </video>
                        <!-- Overlay -->
                        <div class="absolute inset-0 bg-pink-700/40 flex flex-col items-center justify-center opacity-0 hover:opacity-100 transition-opacity duration-300">
                            <span class="text-white text-lg md:text-xl font-semibold animate-bounce">
                                {% trans "Watch the Highlights" %}
                            </span>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <p class="text-gray-800">{% trans "No featured videos available yet. Check back soon!" %}</p>
        {% endif %}
    </div>
</section>
<!--section2 terminer-->
{% load static %}

<!-- About Section -->
<section class="relative py-24 bg-gradient-to-r from-pink-50 via-pink-100 to-pink-50 overflow-hidden">
    <!-- Background decorative circles -->
    <div class="absolute -top-20 -left-20 w-72 h-72 bg-pink-200 rounded-full opacity-30 animate-pulse-slow"></div>
    <div class="absolute -bottom-20 -right-20 w-96 h-96 bg-yellow-200 rounded-full opacity-20 animate-pulse-slow"></div>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
        <!-- Section Header -->
        <div class="text-center mb-16">
            <h2 class="text-4xl md:text-5xl font-bold text-pink-700 mb-4 animate-fadeInDown">
                {% trans "About Us" %}
            </h2>
            <p class="text-lg md:text-xl text-gray-700 mb-6 max-w-2xl mx-auto animate-fadeIn delay-100">
                {% trans "Glow Gracious Events is your partner in creating unforgettable moments filled with elegance, creativity, and joy." %}
            </p>
            <p class="text-xl md:text-2xl text-gray-800 max-w-3xl mx-auto leading-relaxed animate-fadeIn delay-200">
                {% trans "At Glow Gracious Events, we craft unforgettable experiences by combining elegance, creativity, and meticulous attention to every detail. Our mission is to make every celebration magical, leaving memories that last a lifetime." %}
            </p>

            <!-- See More Button -->
            <div class="mt-8">
                <a href="#" class="inline-block bg-pink-700 text-white px-6 py-3 rounded-full font-semibold text-lg hover:bg-pink-800 hover:scale-105 transition-all duration-300 animate-bounce">
                    {% trans "See More" %}
                </a>
            </div>
        </div>

        <!-- Features / Values -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-12 text-center">
            <div class="bg-white rounded-xl shadow-xl p-8 transform hover:scale-105 transition-transform duration-500 animate-fadeInUp delay-300">
                <img src="{% static 'images/creativity-icon.png' %}" alt="Creativity" class="w-16 h-16 mx-auto mb-4">
                <h3 class="text-2xl font-bold text-pink-700 mb-2">{% trans "Creativity" %}</h3>
                <p class="text-gray-700">{% trans "We design events that are visually stunning and uniquely tailored to your style." %}</p>
            </div>
            <div class="bg-white rounded-xl shadow-xl p-8 transform hover:scale-105 transition-transform duration-500 animate-fadeInUp delay-500">
                <img src="{% static 'images/elegance-icon.png' %}" alt="Elegance" class="w-16 h-16 mx-auto mb-4">
                <h3 class="text-2xl font-bold text-pink-700 mb-2">{% trans "Elegance" %}</h3>
                <p class="text-gray-700">{% trans "From decor to catering, every detail is curated for sophistication and style." %}</p>
            </div>
            <div class="bg-white rounded-xl shadow-xl p-8 transform hover:scale-105 transition-transform duration-500 animate-fadeInUp delay-700">
                <img src="{% static 'images/memories-icon.png' %}" alt="Memories" class="w-16 h-16 mx-auto mb-4">
                <h3 class="text-2xl font-bold text-pink-700 mb-2">{% trans "Memories" %}</h3>
                <p class="text-gray-700">{% trans "We ensure each moment is unforgettable, creating memories that last forever." %}</p>
            </div>
        </div>
    </div>
</section>
<!--section 3 terminer-->

<!-- Services Section -->
<section class="py-20">
  <div class="w-full px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16">
      <h2 class="text-4xl md:text-5xl font-bold text-pink-700 mb-4">
        {% trans "OUR SERVICES" %}
      </h2>
      <p class="text-xl text-gray-800">
        {% trans "Choose the perfect package that fits your event style" %}
      </p>
    </div>

    <!-- Services Cards -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      
      <!-- Classique -->
      <div class="bg-gray-50 p-8 rounded-2xl border-4 border-gray-400 shadow-lg hover:scale-105 transition-transform duration-300">
        <div class="w-16 h-16 bg-gray-700 rounded-full flex items-center justify-center mb-6">
          <i data-lucide="star" class="w-8 h-8 text-white"></i>
        </div>
        <h3 class="text-2xl font-bold text-gray-800 mb-4">{% trans "Classic" %}</h3>
        <p class="text-gray-600">{% trans "Essential services to make your event simple yet elegant." %}</p>
      </div>

      <!-- Moderne -->
      <div class="bg-gray-50 p-8 rounded-2xl border-4 border-blue-400 shadow-lg hover:scale-105 transition-transform duration-300">
        <div class="w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mb-6">
          <i data-lucide="sparkles" class="w-8 h-8 text-white"></i>
        </div>
        <h3 class="text-2xl font-bold text-blue-600 mb-4">{% trans "Modern" %}</h3>
        <p class="text-gray-600">{% trans "A balanced mix of style, innovation, and comfort for your guests." %}</p>
      </div>

      <!-- VIP -->
      <div class="bg-gray-50 p-8 rounded-2xl border-4 border-yellow-500 shadow-lg hover:scale-105 transition-transform duration-300">
        <div class="w-16 h-16 bg-yellow-500 rounded-full flex items-center justify-center mb-6">
          <i data-lucide="crown" class="w-8 h-8 text-white"></i>
        </div>
        <h3 class="text-2xl font-bold text-yellow-600 mb-4">{% trans "VIP" %}</h3>
        <p class="text-gray-600">{% trans "Exclusive services with premium details for a luxury experience." %}</p>
      </div>

    </div>

    <!-- View More -->
    <div class="text-center mt-12">
      <a href="{% url 'services_list' %}" 
         class="bg-pink-700 text-white px-6 py-3 rounded-md font-semibold hover:bg-pink-800 hover:scale-105 transition-all duration-300">
        {% trans "View All Services" %}
      </a>
    </div>
  </div>
</section>
<!--section 4 terminer-->

<!-- Stats Section -->
<section class="py-20 bg-pink-50">
  <div class="w-full px-4 sm:px-6 lg:px-8">
    
    <!-- Title -->
    <div class="text-center mb-16">
      <h2 class="text-4xl md:text-5xl font-bold text-pink-700 mb-4">
        {% trans "Our Achievements" %}
      </h2>
      <p class="text-lg text-gray-700 max-w-2xl mx-auto">
        {% trans "Trusted by countless clients, our dedication and professionalism are reflected in these numbers." %}
      </p>
    </div>

    <!-- Stats -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
      
      <!-- Events Completed -->
      <div class="stat-card transform hover:scale-105 transition-transform duration-300">
        <div class="bg-white p-8 rounded-2xl border-4 border-pink-200 shadow-lg">
          <div class="flex justify-center mb-4">
            <i data-lucide="calendar-check" class="w-12 h-12 text-pink-700"></i>
          </div>
          <div class="text-5xl font-extrabold text-pink-700 mb-2">{{ recent_events_count }}+</div>
          <div class="text-gray-800 font-medium">{% trans "Events Completed" %}</div>
        </div>
      </div>

      <!-- Services Available -->
      <div class="stat-card transform hover:scale-105 transition-transform duration-300">
        <div class="bg-white p-8 rounded-2xl border-4 border-pink-200 shadow-lg">
          <div class="flex justify-center mb-4">
            <i data-lucide="briefcase" class="w-12 h-12 text-pink-700"></i>
          </div>
          <div class="text-5xl font-extrabold text-pink-700 mb-2">{{ services_count }}+</div>
          <div class="text-gray-800 font-medium">{% trans "Services Available" %}</div>
        </div>
      </div>

      <!-- Client Satisfaction -->
      <div class="stat-card transform hover:scale-105 transition-transform duration-300">
        <div class="bg-white p-8 rounded-2xl border-4 border-pink-200 shadow-lg">
          <div class="flex justify-center mb-4">
            <i data-lucide="smile" class="w-12 h-12 text-pink-700"></i>
          </div>
          <div class="text-5xl font-extrabold text-pink-700 mb-2">100%</div>
          <div class="text-gray-800 font-medium">{% trans "Client Satisfaction" %}</div>
        </div>
      </div>

    </div>
  </div>
</section>
<!--section 5 terminer-->
<!-- Featured Testimonials -->
{% if featured_testimonials %}
<section class="py-20 bg-gradient-to-b from-pink-50 to-white relative overflow-hidden">
  <div class="w-full px-4 sm:px-6 lg:px-8 relative z-10">
    
    <!-- Title -->
    <div class="text-center mb-16">
      <h2 class="text-4xl md:text-5xl font-bold text-pink-700 mb-4 animate-fadeIn">
        {% trans "What Our Clients Say" %}
      </h2>
      <p class="text-lg text-gray-700 max-w-2xl mx-auto animate-fadeIn delay-200">
        {% trans "We are proud to have built unforgettable moments for our clients. Here’s what they have to share." %}
      </p>
    </div>

    <!-- Testimonials Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      {% for testimonial in featured_testimonials %}
      <div class="testimonial-card bg-white p-8 rounded-2xl border-4 border-pink-200 shadow-lg transform hover:-translate-y-2 hover:shadow-2xl transition-all duration-500">
        
        <!-- Quote Icon -->
        <div class="flex justify-start mb-4">
          <i data-lucide="quote" class="w-10 h-10 text-pink-200"></i>
        </div>
        
        <!-- Content -->
        <p class="text-gray-700 italic mb-6">"{{ testimonial.content|truncatewords:25 }}"</p>
        
        <!-- User Info -->
        <div class="flex items-center">
          {% if testimonial.user.profile_picture %}
          <img src="{{ testimonial.user.profile_picture.url }}" alt="{{ testimonial.user.first_name }}" class="w-12 h-12 rounded-full object-cover mr-4 border border-pink-200">
          {% else %}
          <div class="w-12 h-12 bg-pink-700 rounded-full flex items-center justify-center mr-4 border border-pink-200">
            <span class="text-white font-semibold">{{ testimonial.user.first_name.0|upper }}</span>
          </div>
          {% endif %}
          <div>
            <h4 class="font-semibold text-gray-800">{{ testimonial.user.first_name }} {{ testimonial.user.last_name }}</h4>
            <div class="flex">
              {% for i in testimonial.star_range %}
              {% if i <= testimonial.rating %}
              <i data-lucide="star" class="w-5 h-5 text-yellow-400 fill-yellow-400"></i>
              {% else %}
              <i data-lucide="star" class="w-5 h-5 text-gray-300"></i>
              {% endif %}
              {% endfor %}
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>

    <!-- CTA Button -->
    <div class="text-center mt-12">
      <a href="{% url 'testimonials_list' %}" class="bg-pink-700 text-white px-6 py-3 rounded-md font-semibold hover:bg-pink-800 hover:scale-105 transition-all duration-300">
        {% trans "Read More Testimonials" %}
      </a>
    </div>
  </div>
</section>
{% endif %}
<!--section 6 terminer-->

<!-- CTA Section -->
<section class="py-20 bg-gradient-to-r from-pink-100 via-yellow-200/50 to-pink-100">
  <div class="w-full px-4 sm:px-6 lg:px-8 text-center">
    
    <!-- Title -->
    <h2 
      class="text-4xl md:text-5xl font-extrabold text-pink-700 mb-6 
             animate-fadeInUp">
      {% trans "Ready to Create Your Perfect Event?" %}
    </h2>
    
    <!-- Subtitle -->
    <p 
      class="text-lg md:text-xl text-gray-700 mb-10 max-w-2xl mx-auto 
             leading-relaxed animate-fadeInUp delay-200">
      {% trans "Join thousands of satisfied clients who trusted us to make their special day unforgettable." %}
    </p>
    
    <!-- Call-to-action button -->
    {% if not user.is_authenticated %}
      <a href="{% url 'register' %}" 
         class="inline-flex items-center gap-2 
                px-5 py-2 rounded-full 
                bg-pink-700 text-white text-base font-semibold 
                shadow-md animate-pulse
                hover:bg-pink-800 hover:scale-105 
                transition-all duration-300">
        <i data-lucide="sparkles" class="w-5 h-5 text-yellow-300"></i>
        {% trans "Get Started Today" %}
      </a>
    {% else %}
      <a href="{% url 'create_event' %}" 
         class="inline-flex items-center gap-2 
                px-5 py-2 rounded-full 
                bg-pink-700 text-white text-base font-semibold 
                shadow-md animate-pulse
                hover:bg-pink-800 hover:scale-105 
                transition-all duration-300">
        <i data-lucide="calendar-plus" class="w-5 h-5 text-yellow-300"></i>
        {% trans "Create Your Event" %}
      </a>
    {% endif %}
    
  </div>
</section>

<!-- Extra CSS animations -->
<style>
@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(20px); }
  to   { opacity: 1; transform: translateY(0); }
}

.animate-fadeInUp { 
  animation: fadeInUp 1s ease-out forwards; 
}

.delay-200 { 
  animation-delay: 0.2s; 
}
</style>


<!-- Back to Top Button -->
<div id="back-to-top" class="fixed bottom-6 right-6 bg-pink-700 text-white p-3 rounded-full shadow-lg opacity-0 transition-opacity duration-300 hover:bg-pink-800 hover:scale-110 cursor-pointer hidden">
    <i data-lucide="arrow-up" class="w-6 h-6 animate-pulse"></i>
</div>

<!-- Animations -->
<style>
    @keyframes pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.1); }
    }
    .animate-pulse {
        animation: pulse 2s ease-in-out infinite;
    }

    #back-to-top {
        z-index: 1000;
    }
    #back-to-top.visible {
        opacity: 1;
        visibility: visible;
    }

    @media (max-width: 640px) {
        h1 { font-size: 3rem; }
        h2 { font-size: 1.5rem; }
        .text-2xl { font-size: 1.25rem; }
        .text-xl { font-size: 1rem; }
        .py-20 { padding-top: 2rem; padding-bottom: 2rem; }
        .grid-cols-3 { grid-template-columns: 1fr; }
        .w-16 { width: 12px; height: 12px; }
        .h-16 { height: 12px; }
        .px-6 { padding-left: 1rem; padding-right: 1rem; }
        .py-3 { padding-top: 0.75rem; padding-bottom: 0.75rem; }
    }
</style>

<script>
    window.addEventListener('scroll', () => {
        const backToTop = document.getElementById('back-to-top');
        if (window.scrollY > 100) {
            backToTop.classList.add('visible');
            backToTop.classList.remove('hidden');
        } else {
            backToTop.classList.remove('visible');
            backToTop.classList.add('hidden');
        }
    });

    document.getElementById('back-to-top').addEventListener('click', () => {
        window.scrollTo({ top: 0, behavior: 'smooth' });
    });
</script>
{% endblock %}